{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.scss","components/Modal/Modal.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Loader/Loader.module.scss","components/Button/Button.module.scss","api/ApiService.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.jsx","index.js","components/Searchbar/Searchbar.module.scss"],"names":["module","exports","fetchArticles","searchQuery","page","limit","a","axios","get","response","data","hits","Searchbar","state","value","handleChange","e","inputValue","currentTarget","setState","handleSubmit","preventDefault","props","onSubmit","this","className","style","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","React","Component","ImageGalleryItem","tags","webformatURL","largeImageURL","onClick","src","alt","ImageGalleryItemImage","ImageGallery","imageEl","map","hit","id","LoaderApp","color","height","width","timeout","loader","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleClickBackdrop","event","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","App","query","isLoading","error","showModal","activeImg","listRef","createRef","onChangeQuery","loadMore","fetchImages","API","then","prevState","catch","toggleModal","prevProps","length","current","scrollHeight","snapshot","scrollTo","top","behavior","ref","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0ce3ea0b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3iRwM\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3dOln\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__21j6m\",\"Modal\":\"Modal_Modal__32mLz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2s6Dc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2hZcM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2BYYQ\"};","// import React from 'react';\nimport axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst KEY = '20935726-589ec499a748a6b46fa10a9d7';\n\nconst fetchArticles = async (searchQuery, page, limit) => {\n  const response = await axios.get(\n    `${BASE_URL}?q=${searchQuery}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=${limit}`,\n  );\n  return response.data.hits;\n};\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { fetchArticles };\n\n// const instance = axios.create({\n//   BASE_URL: 'https://pixabay.com/api/',\n//   KEY: '20935726-589ec499a748a6b46fa10a9d7',\n// });\n\n// const getAllPosts = () => {\n//   return instance.get();\n// };\n","import React from 'react';\nimport style from './Searchbar.module.scss';\n\n// const Searchbar = ({ onSubmit }) => {\n//   return (\n//     <header className={style.Searchbar}>\n//       <form className={style.SearchForm}>\n//         <button\n//           onSubmit={onSubmit}\n//           type=\"submit\"\n//           className={style.SearchFormButton}\n//         >\n//           <span className={style.SearchFormButtonLabel}>Search</span>\n//         </button>\n\n//         <input\n//           className={style.SearchFormInput}\n//           type=\"text\"\n//           // autocomplete=\"off\"\n//           // autofocus\n//           placeholder=\"Search images and photos\"\n//         />\n//       </form>\n//     </header>\n//   );\n// };\n\n// export default Searchbar;\n\nclass Searchbar extends React.Component {\n  state = {\n    value: '',\n  };\n\n  handleChange = e => {\n    const inputValue = e.currentTarget.value;\n    this.setState({\n      value: inputValue,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.value);\n    this.setState({\n      value: '',\n    });\n  };\n\n  render() {\n    const { value } = this.state;\n    const { handleChange, handleSubmit } = this;\n    return (\n      <header className={style.Searchbar}>\n        <form onSubmit={handleSubmit} className={style.SearchForm}>\n          <button type=\"submit\" className={style.SearchFormButton}>\n            <span className={style.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            value={value}\n            onChange={handleChange}\n            className={style.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\nexport default Searchbar;\n","import React from 'react';\n\nimport style from './ImageGalleryItem.module.scss';\n\n// const ImageGalleryItem = ({ hits }) => {\n//   hits.map(({ id, tags, webformatURL, largeImageURL }) => (\n//     <li key={id} className={style.ImageGalleryItem}>\n//       <img\n//         src={webformatURL}\n//         alt={tags}\n//         className={style.ImageGalleryItemImage}\n//         data-source={largeImageURL}\n//       />\n//     </li>\n//   ));\n// };\n\nconst ImageGalleryItem = ({ tags, webformatURL, largeImageURL, onClick }) => (\n  <li className={style.ImageGalleryItem}>\n    <img\n      src={webformatURL}\n      alt={tags}\n      className={style.ImageGalleryItemImage}\n      onClick={() => onClick(largeImageURL)}\n    />\n  </li>\n);\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport style from './ImageGallery.module.scss';\n\n// function ImageGallery({ chidren }) {\n//   return <ul className={style.ImageGallery}>{chidren}</ul>;\n// }\n\nfunction ImageGallery({ hits, onClick }) {\n  const imageEl = hits.map(hit => (\n    <ImageGalleryItem onClick={onClick} key={hit.id} {...hit} />\n  ));\n  return <ul className={style.ImageGallery}>{imageEl}</ul>;\n}\n\nexport default ImageGallery;\n","import React from 'react';\n\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\nimport style from './Loader.module.scss';\n\nclass LoaderApp extends React.Component {\n  //other logic\n  render() {\n    return (\n      <Loader\n        type=\"ThreeDots\"\n        color=\"#00BFFF\"\n        height={80}\n        width={80}\n        timeout={3000}\n        className={style.loader}\n      />\n    );\n  }\n}\nexport default LoaderApp;\n","import React from 'react';\n\nimport style from './Button.module.scss';\n\nfunction Button({ onClick }) {\n  return (\n    <button onClick={onClick} className={style.Button}>\n      Load more\n    </button>\n  );\n}\n\nexport default Button;\n","import React from 'react';\nimport { createPortal } from 'react-dom';\nimport style from './Modal.module.scss';\n\n// function Modal(event) {\n//   if (event.target !== event.currentTarget) {\n//     const url = event.target.dataset.source;\n\n//     if (url) {\n//       return (\n//         <div className={style.Overlay}>\n//           <div className={style.Modal}>\n//             <img src={url} alt=\"\" />\n//           </div>\n//         </div>\n//       );\n//     }\n//   }\n// }\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends React.Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  // componentDidUpdate() {}\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleClickBackdrop = event => {\n    if (event.target === event.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div onClick={this.handleClickBackdrop} className={style.Overlay}>\n        <div className={style.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component, createRef } from 'react';\nimport API from './api';\n\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\n// import ImageGalleryItem from './components/ImageGalleryItem';\nimport Loader from './components/Loader';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\n\n// import style from './App.module.scss';\n\nclass App extends Component {\n  state = {\n    hits: [],\n    query: '',\n    isLoading: false,\n    page: 1,\n    limit: 12,\n    error: null,\n    showModal: false,\n    activeImg: '',\n  };\n\n  listRef = createRef();\n\n  // findImages = e => {\n  //   e.preventDefault();\n  //   const inputValue = e.target.value;\n  //   this.setState({ value: inputValue });\n  // };\n  onChangeQuery = value => {\n    this.setState({\n      hits: [],\n      query: value,\n      isLoading: true,\n      page: 1,\n    });\n  };\n\n  loadMore = e => {\n    e.preventDefault();\n    this.setState({\n      isLoading: true,\n    });\n  };\n\n  fetchImages = () => {\n    const { query, page, limit } = this.state;\n\n    API.fetchArticles(query, page, limit)\n      .then(hits =>\n        this.setState(prevState => ({\n          hits: [...prevState.hits, ...hits],\n          isLoading: false,\n          page: page + 1,\n        })),\n      )\n      .catch(error =>\n        this.setState({\n          error,\n          isLoading: false,\n        }),\n      );\n    // .finally(() => this.setState({ isLoading: false }));\n  };\n\n  toggleModal = src => {\n    this.setState(({ showModal, activeImg }) => ({\n      showModal: !showModal,\n      activeImg: src,\n    }));\n  };\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    if (prevState.hits.length < this.state.hits.length) {\n      const { current } = this.listRef;\n      return current.scrollHeight;\n    }\n    return null;\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (this.state.isLoading) {\n      this.fetchImages();\n    }\n    if (snapshot !== null) {\n      window.scrollTo({\n        top: snapshot,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.setState({ isLoading: true });\n    // console.log(this.props.value);\n    // API.fetchArticles(this.props.value)\n    //   .then(articles => this.setState({ articles }))\n    //   .catch(error => this.setState({ error }))\n    //   .finally(() => this.setState({ isLoading: false }));\n  }\n\n  render() {\n    const { isLoading, hits, showModal, activeImg } = this.state;\n    const { onChangeQuery, loadMore, toggleModal } = this;\n    return (\n      <>\n        {showModal && (\n          <Modal onClose={toggleModal}>\n            <img src={activeImg} alt=\"\" />\n          </Modal>\n        )}\n        <Searchbar onSubmit={onChangeQuery} />\n        <div ref={this.listRef}>\n          <ImageGallery hits={hits} onClick={toggleModal} />\n        </div>\n\n        {isLoading && <Loader />}\n        <Button onClick={loadMore} />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2Ep_q\",\"SearchForm\":\"Searchbar_SearchForm__2I4mE\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2qPO1\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__7CZEE\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3gZ4u\"};"],"sourceRoot":""}